<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <!-- Mismo CSS que facturas/materiales/ventas/presupuestos -->
  <link rel="stylesheet" th:href="@{classpath:/static/files-css/invoice.css}"/>
  <title>Listado de entregas</title>
</head>
<body>
<div class="page">

  <!-- HEADER -->
  <table class="header">
    <tr>
      <td>
        <div class="brand">
          <img th:src="${c.logo}" alt="logo"/>
          <div class="brand-title">
            <!-- mismo truco que en materials-report / sales-report / orders-report -->
            <h1 th:utext="${#strings.replace(c.name, ' ', '&nbsp;')}">Mi Empresa</h1>
          </div>
        </div>
      </td>
      <td class="head-right">
        <div class="stamp">Entregas</div><br/>
        <div th:text="${title}">Entregas filtradas</div>
        <div>
          <small th:text="${generatedAt}">10/10/2025 12:00</small>
        </div>
      </td>
    </tr>
  </table>

  <!-- SUBTÍTULO / INFO DE FILTROS -->
  <p class="note" th:text="${subtitle}">
    Período, cliente y estado…
  </p>

  <!-- TABLA DE ENTREGAS -->
  <table class="items deliveries-report">
    <colgroup>
      <col style="width:12%"/>  <!-- N° entrega -->
      <col style="width:14%"/>  <!-- Fecha -->
      <col style="width:25%"/>  <!-- Cliente -->
      <col style="width:19%"/>  <!-- Venta -->
      <col style="width:15%"/>  <!-- Total -->
      <col style="width:15%"/>  <!-- Estado -->
    </colgroup>
    <thead>
    <tr>
      <th class="num">N° entrega</th>
      <th>Fecha</th>
      <th>Cliente</th>
      <th class="num">Venta</th>
      <th class="num">Total</th>
      <th>Estado</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="r : ${rows}">
      <td class="num" th:text="${r.id}">1</td>
      <td th:text="${#temporals.format(r.deliveryDate, 'dd/MM/yyyy')}">01/01/2026</td>
      <td th:text="${r.client}">Cliente de ejemplo</td>
      <td class="num" th:text="${r.saleId != null ? '#' + r.saleId : '—'}">#1</td>
      <td class="num"
          th:text="${#numbers.formatCurrency(r.total)}">$ 0,00</td>
      <td th:text="${r.statusLabel}">PENDIENTE</td>
    </tr>
    </tbody>
  </table>

  <!-- TOTAL GLOBAL -->
  <table class="totals">
    <tr class="grand">
      <td>Total</td>
      <td class="num"
          th:text="${#numbers.formatCurrency(grandTotal)}">$ 0,00</td>
    </tr>
  </table>

  <p class="note">
    Documento interno. Valores expresados en ARS. Para uso administrativo.
  </p>

</div>
</body>
</html>
