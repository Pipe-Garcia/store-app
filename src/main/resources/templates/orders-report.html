<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <!-- Reutilizamos el mismo CSS que facturas/materiales/ventas -->
  <link rel="stylesheet" th:href="@{classpath:/static/files-css/invoice.css}"/>
  <title>Listado de presupuestos</title>
</head>
<body>
<div class="page">

  <!-- HEADER -->
  <table class="header">
    <tr>
      <td>
        <div class="brand">
          <img th:src="${c.logo}" alt="logo"/>
          <div class="brand-title">
            <!-- mismo truco que en materials-report / sales-report -->
            <h1 th:utext="${#strings.replace(c.name, ' ', '&nbsp;')}">Mi Empresa</h1>
          </div>
        </div>
      </td>
      <td class="head-right">
        <div class="stamp">Presupuestos</div><br/>
        <div th:text="${title}">Presupuestos filtrados</div>
        <div>
          <small th:text="${generatedAt}">10/10/2025 12:00</small>
        </div>
      </td>
    </tr>
  </table>

  <!-- SUBTÍTULO / INFO DE FILTROS -->
  <p class="note" th:text="${subtitle}">
    Período, cliente y estado…
  </p>

  <!-- TABLA DE PRESUPUESTOS -->
  <table class="items orders-report">
    <colgroup>
      <col style="width:14%"/>  
      <col style="width:16%"/>  
      <col style="width:30%"/>  
      <col style="width:18%"/>  
      <col style="width:22%"/>  
    </colgroup>
    <thead>
    <tr>
      <th class="num">N° presupuesto</th>
      <th>Fecha</th>
      <th>Cliente</th>
      <th class="num">Total</th>
      <th>Estado</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="r : ${rows}">
      <td class="num" th:text="${r.id}">1</td>
      <td th:text="${#temporals.format(r.dateCreate, 'dd/MM/yyyy')}">01/01/2026</td>
      <td th:text="${r.client}">Cliente de ejemplo</td>
      <td class="num"
          th:text="${#numbers.formatCurrency(r.total)}">$ 0,00</td>
      <td th:text="${r.statusLabel}">CON PENDIENTE por vender</td>
    </tr>
    </tbody>
  </table>


  <!-- TOTAL GLOBAL -->
  <table class="totals">
    <tr class="grand">
      <td>Total del período</td>
      <td class="num"
          th:text="${#numbers.formatCurrency(grandTotal)}">$ 0,00</td>
    </tr>
  </table>

  <p class="note">
    Documento interno. Valores expresados en ARS. Para uso administrativo.
  </p>

</div>
</body>
</html>
